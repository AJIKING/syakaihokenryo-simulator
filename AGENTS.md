# AGENTS.md

## プロジェクト概要

このプロジェクトは、日本の社会保険料を計算するWebアプリケーションです。手取り月給から総支給額を逆算し、社会保険料（健康保険、厚生年金、雇用保険、介護保険）を算出します。

## 技術スタック

- **フロントエンド**: React 19 + TypeScript
- **ビルドツール**: Vite 7
- **パッケージマネージャー**: pnpm
- **スタイリング**: Tailwind CSS 4
- **UIコンポーネント**: Radix UI + カスタムコンポーネント
- **アイコン**: Lucide React
- **チャート**: Recharts
- **リンター**: ESLint

## プロジェクト構造

```
src/
├── components/          # Reactコンポーネント
│   ├── SocialInsuranceCalculator.tsx  # メイン計算機能
│   ├── InsuranceResults.tsx           # 計算結果表示
│   ├── Footer.tsx                     # フッター
│   └── ui/                           # UIコンポーネント（Radix UI）
├── styles/             # スタイル
└── assets/             # 静的ファイル
```

## 主要機能

1. **社会保険料計算**
   - 手取り月給入力
   - 都道府県選択（健康保険料率が異なる）
   - 年齢入力（40歳以上は介護保険料適用）

2. **計算項目**
   - 健康保険料（労働者・会社負担）
   - 厚生年金保険料（労働者・会社負担）
   - 雇用保険料（労働者・会社負担）
   - 介護保険料（40歳以上、労働者・会社負担）

3. **結果表示**
   - 総支給額の逆算
   - 各種保険料の詳細
   - 労働者負担と会社負担の分離表示

## 開発ガイドライン

### コーディング規約
- TypeScriptを使用し、型安全性を重視
- 関数型コンポーネントを使用
- カスタムフックを活用してロジックを分離
- ESLintルールに従う

### UIコンポーネント
- Radix UIをベースとしたカスタムコンポーネントを使用
- Tailwind CSSでスタイリング
- レスポンシブデザインを考慮
- アクセシビリティに配慮

### 保険料率について
- 健康保険料率は都道府県別に設定
- 厚生年金保険料率：18.3%（労使折半）
- 雇用保険料率：労働者0.5%、会社0.85%
- 介護保険料率：1.82%（40歳以上、労使折半）

## 開発コマンド

```bash
# 開発サーバー起動
pnpm dev

# ビルド
pnpm build

# リンター実行
pnpm lint

# プレビュー
pnpm preview
```

## エージェント向けガイド

### 新機能追加時の注意点
1. 社会保険料率は法改正により変更される可能性があるため、定数として管理
2. 計算ロジックは`SocialInsuranceCalculator.tsx`に集約
3. UI変更時はレスポンシブデザインとアクセシビリティを考慮
4. 新しいUIコンポーネントは`src/components/ui/`に追加

### 計算ロジックの修正
- 保険料率の変更は`prefectures`配列および計算関数内の定数を更新
- 手取りから総支給額への逆算は二分探索で実装
- 端数処理は四捨五入（`Math.round`）を使用

### テストに関して
- 計算結果の正確性を確認するため、実際の給与明細との比較を推奨
- 各都道府県の保険料率が正しく適用されることを確認
- 40歳前後での介護保険料の適用切り替えを確認

### パフォーマンス
- 計算処理は軽量なため、リアルタイム計算が可能
- 大量の計算が必要な場合は、Web Workersの利用を検討

## 参考リンク

- [React公式ドキュメント](https://react.dev/)
- [TypeScript公式ドキュメント](https://www.typescriptlang.org/)
- [Vite公式ドキュメント](https://vitejs.dev/)
- [Tailwind CSS公式ドキュメント](https://tailwindcss.com/)
- [Radix UI公式ドキュメント](https://www.radix-ui.com/)
- [日本年金機構](https://www.nenkin.go.jp/)（保険料率情報）
